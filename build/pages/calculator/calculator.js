export default function(t,e,a,n,i){var o,_=$app_require$;t.setTimeout,t.setInterval,t.clearTimeout,t.clearInterval,o=t.$app_require$||_,(()=>{var t={},e={};function a(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,a),o.exports}a.rv=()=>"1.3.4",a.ruid="bundler=rspack@1.3.4";var i=[[[[0,"calculator-page"]],{flex:1,flexDirection:"column",backgroundColor:"#000",paddingTop:"15px",paddingRight:"5px",paddingBottom:"20px",paddingLeft:"5px",alignItems:"center",backgroundImage:"/common/images/background/background.png",backgroundSize:"200px 400px",backgroundPosition:"center center",backgroundRepeat:"no-repeat"}],[[[0,"back-button"]],{width:"80px",height:"37px",borderRadius:"18px",backgroundColor:"#222",fontSize:"18px",color:"#ccc",marginBottom:"10px",alignSelf:"flex-start"}],[[[0,"display-area"]],{flexDirection:"column",width:"100%",alignItems:"flex-end",marginBottom:"10px"}],[[[0,"calc-display-text"]],{width:"100%",height:"60px",fontSize:"36px",color:"#fff",textAlign:"right",paddingTop:"0",paddingRight:"10px",paddingBottom:"0",paddingLeft:"10px",borderRadius:"5px",lineHeight:"60px"}],[[[0,"secondary-controls"]],{flexDirection:"row",justifyContent:"flex-end",width:"100%",paddingRight:"10px",marginTop:"5px",marginBottom:"10px"}],[[[0,"secondary-button"]],{width:"45px",height:"35px",borderRadius:"17.5px",fontSize:"19px",lineHeight:"35px",marginLeft:"10px",textAlign:"center",fontWeight:700}],[[[0,"secondary-button"],[0,"number-style"]],{backgroundColor:"#333",color:"#fff"}],[[[0,"secondary-button"],[0,"delete-style"]],{backgroundColor:"#555",color:"#fff"}],[[[0,"calc-buttons"]],{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",width:"183px"}],[[[0,"calc-button"]],{width:"55px",height:"55px",borderRadius:"27.5px",fontSize:"100px",fontWeight:700,color:"#fff",marginTop:"3px",marginRight:"3px",marginBottom:"3px",marginLeft:"3px",textAlign:"center",lineHeight:"55px"}],[[[0,"calc-button"],[0,"number"]],{backgroundColor:"#f5f5f5",fontSize:"24px"}],[[[0,"calc-button"],[0,"operator"]],{backgroundColor:"#ffa425",fontSize:"23px"}],[[[0,"calc-button"],[0,"equals"]],{backgroundColor:"#ffa425",fontSize:"23px"}],[[[0,"calc-button"],[0,"function"]],{backgroundColor:"#cacaca",color:"#000"}],[[[0,"calc-button"],[0,"clear"]],{backgroundColor:"#cacaca",color:"#000",fontSize:"19px"}],[[[0,"calc-button"],[0,"small-text"]],{fontSize:"20px",fontWeight:400}],[[[0,"calc-button"],[0,"placeholder"]],{backgroundColor:"transparent",borderStyle:"none"}]],_=function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a("@app-module/system.router")),i=o(a("@app-module/system.vibrator"));function o(t){return t&&t.__esModule?t:{default:t}}let _=Math.PI,s=Math.E;e.default={private:{displayValue:"0",operand1:null,operator:null,waitingForOperand2:!1},goBack(){i.default.vibrate({mode:"short"}),n.default.back()},_formatResult(t){let e="Error";return t===1/0||t===-1/0?e="Infinity":isFinite(t)?(e=Math.abs(t)>0x5f5e0ff||1e-6>Math.abs(t)&&0!==t?t.toExponential(3):String(parseFloat(t.toPrecision(7)))).length>8&&(e=t.toExponential(3)).length>8&&(e=t.toExponential(2)).length>8&&(e="Error"):e="Error","-0"===e&&(e="0"),e},appendNumber(t){if(i.default.vibrate({mode:"short"}),"Error"===this.displayValue||"Infinity"===this.displayValue){this.displayValue=t,this._resetStateAfterCalc();return}(this.waitingForOperand2||!(this.displayValue.length>=8)||"."===t)&&!("."===t&&this.displayValue.includes("."))&&(this.waitingForOperand2?(this.displayValue=t,this.waitingForOperand2=!1):"0"===this.displayValue&&"."!==t?this.displayValue=t:(this.displayValue+t).length<=8&&(this.displayValue=this.displayValue+t))},deleteLast(){if(i.default.vibrate({mode:"short"}),!this.waitingForOperand2){if("Error"===this.displayValue||"Infinity"===this.displayValue)return void this.clearCalc();1===this.displayValue.length||this.displayValue.startsWith("-")&&2===this.displayValue.length?this.displayValue="0":this.displayValue=this.displayValue.slice(0,-1)}},clearCalc(){i.default.vibrate({mode:"short"}),this.displayValue="0",this.operand1=null,this.operator=null,this.waitingForOperand2=!1},setOperator(t){if(i.default.vibrate({mode:"short"}),null!==this.operator&&!this.waitingForOperand2&&(this.calculate(!1),"Error"===this.displayValue||"Infinity"===this.displayValue))return;let e=parseFloat(this.displayValue);isNaN(e)?this.clearCalc():(this.operand1=e,this.operator=t,this.waitingForOperand2=!0)},calculate(t=!0){if(t&&i.default.vibrate({mode:"short"}),null===this.operator||this.waitingForOperand2||null===this.operand1)return;let e=parseFloat(this.displayValue);if(isNaN(this.operand1)||isNaN(e)){this.displayValue="Error",this._resetStateAfterCalc();return}let a=NaN;switch(this.operator){case"+":a=this.operand1+e;break;case"-":a=this.operand1-e;break;case"*":a=this.operand1*e;break;case"/":a=0===e?NaN:this.operand1/e;break;case"pow":a=Math.pow(this.operand1,e);break;default:a=NaN}this.displayValue=this._formatResult(a),this._resetStateAfterCalc()},_resetStateAfterCalc(){this.operand1=null,this.operator=null,this.waitingForOperand2=!1},_applyUnaryFunction(t){let e=parseFloat(this.displayValue);if(isNaN(e)){this.displayValue="Error",this._resetStateAfterCalc();return}let a=t(e);this.displayValue=this._formatResult(a),this._resetStateAfterCalc()},applyFunction(t){i.default.vibrate({mode:"short"});let e=t=>NaN;"sqrt"===t?e=t=>t<0?NaN:Math.sqrt(t):"cbrt"===t&&(e=Math.cbrt),this._applyUnaryFunction(e)},applyPowerFunction(t){i.default.vibrate({mode:"short"}),"square"===t?this._applyUnaryFunction(t=>t*t):"cube"===t&&this._applyUnaryFunction(t=>t*t*t)},applyTrigFunction(t){i.default.vibrate({mode:"short"});let e=t=>NaN;"sin"===t?e=Math.sin:"cos"===t?e=Math.cos:"tan"===t&&(e=Math.tan),this._applyUnaryFunction(e)},applyInvTrigFunction(t){i.default.vibrate({mode:"short"});let e=t=>NaN;"asin"===t?e=t=>t<-1||t>1?NaN:Math.asin(t):"acos"===t?e=t=>t<-1||t>1?NaN:Math.acos(t):"atan"===t&&(e=Math.atan),this._applyUnaryFunction(e)},applyLogFunction(t){i.default.vibrate({mode:"short"});let e=t=>NaN;"log10"===t?e=t=>t<=0?NaN:Math.log10(t):"ln"===t&&(e=t=>t<=0?NaN:Math.log(t)),this._applyUnaryFunction(e)},applyFactorial(){i.default.vibrate({mode:"short"});let t=parseFloat(this.displayValue);if(isNaN(t)||t<0||t!==Math.floor(t)||t>69){this.displayValue="Error",this._resetStateAfterCalc();return}if(0===t){this.displayValue="1",this._resetStateAfterCalc();return}let e=1;try{for(let a=2;a<=t&&(e*=a,isFinite(e));a++);}catch(t){e=1/0}this.displayValue=this._formatResult(e),this._resetStateAfterCalc()},applyReciprocal(){i.default.vibrate({mode:"short"}),this._applyUnaryFunction(t=>0===t?NaN:1/t)},applyPercent(){i.default.vibrate({mode:"short"}),this._applyUnaryFunction(t=>t/100)},insertConstant(t){i.default.vibrate({mode:"short"});let e=NaN;"pi"===t?e=_:"e"===t&&(e=s),this.displayValue=this._formatResult(e),this._resetStateAfterCalc()}};let c=e.default||t.exports,l=["public","protected","private"];if(c.data&&l.some(function(t){return c[t]}))throw Error('页面VM对象中的属性data不可与"'+l.join(",")+'"同时存在，请使用private替换data名称');c.data||(c.data={},c._descriptor={},l.forEach(function(t){let e=typeof c[t];if("object"===e)for(let e in c.data=Object.assign(c.data,c[t]),c[t])c._descriptor[e]={access:t};else"function"===e&&console.warn("页面VM对象中的属性"+t+"的值不能是函数，请使用对象")}))},s=function(t){let e=t||this;return aiot.__ce__("div",{__vm__:e,__opts__:{classList:["calculator-page"]}},[aiot.__ce__("input",{__vm__:e,__opts__:{classList:["back-button"],type:"button",value:"< 返回",events:{click:function(t){return e.goBack(t)}}}},[]),aiot.__ce__("div",{__vm__:e,__opts__:{classList:["display-area"]}},[aiot.__ce__("text",{__vm__:e,__opts__:{classList:["calc-display-text"],value:function(){return e.displayValue}}},[])]),aiot.__ce__("div",{__vm__:e,__opts__:{classList:["secondary-controls"]}},[aiot.__ce__("input",{__vm__:e,__opts__:{classList:["secondary-button","number-style"],type:"button",value:".",events:{click:function(t){return e.appendNumber(".",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["secondary-button","delete-style"],type:"button",value:"←",events:{click:function(t){return e.deleteLast(t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["secondary-button","clear"],type:"button",value:"C",events:{click:function(t){return e.clearCalc(t)}}}},[])]),aiot.__ce__("div",{__vm__:e,__opts__:{classList:["calc-buttons"]}},[aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","number"],type:"button",value:"7",events:{click:function(t){return e.appendNumber("7",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","number"],type:"button",value:"8",events:{click:function(t){return e.appendNumber("8",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","number"],type:"button",value:"9",events:{click:function(t){return e.appendNumber("9",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","number"],type:"button",value:"4",events:{click:function(t){return e.appendNumber("4",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","number"],type:"button",value:"5",events:{click:function(t){return e.appendNumber("5",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","number"],type:"button",value:"6",events:{click:function(t){return e.appendNumber("6",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","number"],type:"button",value:"1",events:{click:function(t){return e.appendNumber("1",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","number"],type:"button",value:"2",events:{click:function(t){return e.appendNumber("2",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","number"],type:"button",value:"3",events:{click:function(t){return e.appendNumber("3",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","operator"],type:"button",value:"+",events:{click:function(t){return e.setOperator("+",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","number"],type:"button",value:"0",events:{click:function(t){return e.appendNumber("0",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","equals"],type:"button",value:"=",events:{click:function(t){return e.calculate(t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","operator"],type:"button",value:"-",events:{click:function(t){return e.setOperator("-",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","operator"],type:"button",value:"\xd7",events:{click:function(t){return e.setOperator("*",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","operator"],type:"button",value:"\xf7",events:{click:function(t){return e.setOperator("/",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"√",events:{click:function(t){return e.applyFunction("sqrt",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"x\xb2",events:{click:function(t){return e.applyPowerFunction("square",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"xʸ",events:{click:function(t){return e.setOperator("pow",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"sin",events:{click:function(t){return e.applyTrigFunction("sin",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"cos",events:{click:function(t){return e.applyTrigFunction("cos",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"tan",events:{click:function(t){return e.applyTrigFunction("tan",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"log",events:{click:function(t){return e.applyLogFunction("log10",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"ln",events:{click:function(t){return e.applyLogFunction("ln",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"n!",events:{click:function(t){return e.applyFactorial(t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"π",events:{click:function(t){return e.insertConstant("pi",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"e",events:{click:function(t){return e.insertConstant("e",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function","small-text"],type:"button",value:"sin⁻\xb9",events:{click:function(t){return e.applyInvTrigFunction("asin",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function","small-text"],type:"button",value:"cos⁻\xb9",events:{click:function(t){return e.applyInvTrigFunction("acos",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function","small-text"],type:"button",value:"tan⁻\xb9",events:{click:function(t){return e.applyInvTrigFunction("atan",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"1/x",events:{click:function(t){return e.applyReciprocal(t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"%",events:{click:function(t){return e.applyPercent(t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"x\xb3",events:{click:function(t){return e.applyPowerFunction("cube",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","function"],type:"button",value:"\xb3√",events:{click:function(t){return e.applyFunction("cbrt",t)}}}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","placeholder"],type:"button",value:"",disabled:"true"}},[]),aiot.__ce__("input",{__vm__:e,__opts__:{classList:["calc-button","placeholder"],type:"button",value:"",disabled:"true"}},[])])])};n.entry=function(t){_({},t,o),t.default.template=s,t.default.style=i}})()}