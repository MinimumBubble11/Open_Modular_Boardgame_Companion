import { AtrulePrelude, CssNode, Declaration, Identifier, MediaFeature, MediaQuery, MediaQueryList, SelectorList, SyntaxParseError } from 'css-tree';
import IOptions from '../config/IOptions';
import { IImageFunction } from '../interface/IImageResource';
import { BlockItem, ComplexValueType, IStyleNode, PreludeList, RuleType, StyleItem, ValueType } from '../interface/IStyleAst';
import { IStyleError } from '../interface/IStyleError';
import ITranslateOption from '../interface/ITranslateOption';
import StyleMapUtil from './StyleMapUtil';
/**
 * StyleUtil
 */
declare class StyleUtil {
    /**
     * 判断节点是否为declaration节点
     * @param node
     * @returns
     */
    static isDeclaration(node: any): node is Declaration;
    /**
     * 判断节点是否为Identifier类型
     * @param node
     * @returns
     */
    static isIdentifier(node: any): node is Identifier;
    /**
     * 判断节点是否为SelectorList类型
     * @param node
     * @returns
     */
    static isSelectorList(node: any): node is SelectorList;
    /**
     * 判断节点是否为AtrulePrelude类型
     * @param node
     * @returns
     */
    static isAtrulePrelude(node: any): node is AtrulePrelude;
    /**
     * 判断节点是否为MediaFeature类型
     * @param node
     * @returns
     */
    static isMediaFeature(node: any): node is MediaFeature;
    /**
     * 判断节点是否为MediaQuery类型
     * @param node
     * @returns
     */
    static isMediaQuery(node: any): node is MediaQuery;
    /**
     * 判断节点是否为MediaQueryList类型
     * @param node
     * @returns
     */
    static isMediaQueryList(node: any): node is MediaQueryList;
    /**
     * 生成节点的name
     * 1. 节点存在name且存在value时，nodeName = generate(node)生成css代码
     * 2. 节点存在name且没有value时，nodeName = node.name
     * 3. 节点存在value且没有name时，nodeName = node.value
     *
     * 例如：#title为存在name且没有value的情况，应返回node.name返回;
     * 例如：50% {}时，节点存在value没有name,应返回node.value
     * @param node
     * @returns
     */
    static generateNodename(node: CssNode): string;
    /**
     * 处理 @media 媒体查询条件
     * 1. 循环MediaQueryList节点的子节点（MediaQuery节点）
     * 2. 检查每个MediaQuery节点的媒体类型
     *
     * @param node
     * @returns
     */
    static parseMediaQueryList(options: IOptions, node: MediaQueryList, styleMapUtil: StyleMapUtil): PreludeList[];
    /**
     * 处理css中资源引入
     * 1. 判断是否为绝对路径
     *  1.1 资源路径为绝对路径时
     *  1.2 资源路径为非绝对路径时，拼接路径为一个绝对路径
     * 2. 判断由第一步生成的绝对路径是否在指定路径外
     *  2.1 资源在指定路径外，复制资源到指定文件夹下，返回修改后的路径
     *  2.2 资源在指定路径内，返回相对路径
     *
     */
    static handleDynamicAssets(options: IOptions, compilerOption: ITranslateOption, assetsPath: string, collectImageResource: IImageFunction, position: any): string;
    /**
     * 转换相对路径为 “相对项目源码目录的绝对路径”
     *
     * 例如：有文件`project/src/page/a.so`，则将 `./a.so` 转换为 `/page/a.so`
     * @param reslovePath 路径值， 例如  `require('./a.so'), 则此值为 `./a.so`
     * @param options
     * @param compilerOption
     * @returns
     */
    static getRelativePath(reslovePath: string, options: IOptions, compilerOption: ITranslateOption): string;
    static checkParserError(error: SyntaxParseError, fallbackNode: CssNode): boolean;
    /**
     * 收集解析错误
     * @param error
     * @param fallbackNode
     * @returns
     */
    static collectParserError(error: SyntaxParseError, fallbackNode: CssNode): IStyleError | undefined;
    /**
     * 收集CSS语法错误
     * @param errors
     * @returns
     */
    static collectSyntaxError(errors: Array<any>): IStyleError[];
    /**
     * 相同选择器时融合样式
     * 1. 遍历待融合列表，如果元素长度为3，判断选择器列表是否在存储列表中存在
     * 2. 存在相同选择器列表时，再判断condition是否一致，都一致表示为相同选择器
     * 3. 如果元素长度为2,判断选择器列表是否在存储列表中存在，是则表示为相同选择器
     * 4. 如果元素长度为1,则提示样式内容为空，去掉该选择器
     * @param compareList 存储融合结果的样式列表
     * @param candidateList 待融合的样式列表
     * @returns
     */
    static mergeSelectorList(compareList: IStyleNode[], candidateList: IStyleNode[]): IStyleNode[];
    /**
     * 判断StyleItem类型的节点是否有"condition"属性
     * @param conditionNode
     * @returns
     */
    static isConditionStyleItem(conditionNode: StyleItem): conditionNode is {
        condition: string;
    };
    /**
     * 转换百分号
     * @param unit
     * @returns
     */
    static translatePercentage(unit: string): string;
    static isTransformItemNode(obj: ValueType): obj is ComplexValueType;
    /**
     * 压缩css属性名
     * 1. 取出转换结果中的每一组样式（ 选择器 + 样式对象）styleNode
     *  一般样式的格式为：
     *  [
     *    [[]],
     *    {}
     *  ]
     *  1.1 @meida的样式不需要压缩 (condition + 选择器 + 样式对象)
     *  [
     *    {},
     *    [[]],
     *    {}
     *  ]
     * 2. 从styleNode中取出样式对象 AttrObj
     * 3. 遍历样式对象，找到属性对应的压缩值
     * 4. 替换属性名和属性值
     * @param sourceNodes
     * @returns
     */
    static compressStyleAttributeName(sourceNodes: IStyleNode[]): IStyleNode[];
    /**
     * 检查每一个MediaQuery的MediaType
     * 1. 判断节点是否为MediaQuery类型，非MediaQuery暂不处理
     * 2. 取出节点的所有子节点
     * 3. MediaType应该只出现在前两个Identifier节点中
     *  3.1 @media screen and...时，screen在第一个Identifier节点上
     *  3.2 @media not|only screen and...时，screen在第二个Identifier节点上
     *  3.3 @media not {}
     * 4. 校验MediaType是否合法
     *
     */
    static checkMediaType(options: IOptions, node: CssNode, styleMapUil: StyleMapUtil): void;
    /**
     * 转换 keyframe 的规则项
     *
     * @param rule 规则项。 示例
     * ```css
     * from {
     *  width: 100px;
     *  color: red;
     * }
     * ```
     * @param options
     * @returns
     */
    static translateKeyFramesRule(rule: RuleType, options: IOptions): StyleItem & {
        time: number;
    };
    /**
     * 转换样式块
     * @param sourceNodes 样式块. 示例
     * ```css
     * {
     *    color: red;
     *    font-size: 12px
     * }
     * ```
     * @param options
     * @returns
     */
    static translateBlock(sourceNodes: BlockItem[], options: IOptions): StyleItem;
    /**
     * sourceNode为数组，且数组元素只会是一种类型
     * 1. ComplexValueType类型
     * 2. SimpleValueType类型
     * 无论哪种类型，转换后还是数组
     * @param sourceNode
     * @returns
     */
    private static translateValueNode;
    /**
     * 属性值目前存储在数组中，该函数将数组中的值转换为字符串、数字
     * animation-name属性值为 ['GO','Color','scaleX'] --> "GO, Color, scaleX"
     * opacity属性值为 [1] --> 数字1
     * transform属性值为对象`transform: scale(1) rotate(180deg)` --> `transform: '{"scaleX":1,"scaleY":1,"rotate":"180deg"}'`
     * @param value
     * @returns
     */
    static translateToNormalValue(value: any): any;
}
export default StyleUtil;
