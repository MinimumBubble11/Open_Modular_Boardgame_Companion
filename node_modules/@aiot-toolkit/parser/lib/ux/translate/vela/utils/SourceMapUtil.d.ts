import { BasicSourceMapConsumer, IndexedSourceMapConsumer, SourceMapGenerator } from 'source-map';
import { SourceFile } from 'ts-morph';
import IOptions from '../../../config/IOptions';
import IUpdateMappingsInfo from '../../../interface/IUpdateMappingsInfo';
/**
 * SourceMapUtil
 */
declare class SourceMapUtil {
    /**
     * 更新source map
     * @param sourceMapStr 更新前的source map字符串
     * @param offsetInfo 目标代码合并时用到的偏移量
     * @param options
     * @returns 返回更新了map的generator对象
     */
    static updateSourceMap(sourceMapStr: string, offsetInfo: IUpdateMappingsInfo, options: IOptions): Promise<SourceMapGenerator>;
    /**
     * 基于sourceMap字符串创建一个consumer对象、一个mappings为空的tempGenerator对象
     * @param sourceMap
     * @returns
     */
    static createConsumerAndGenerator(sourceMap: string): Promise<{
        consumer: BasicSourceMapConsumer | IndexedSourceMapConsumer;
        tempGenerator: SourceMapGenerator;
    }>;
    /**
     * 创建一个mappings为空的tempGenerator对象
     * @param sourceMap
     * @returns
     */
    static createTempGenerator(sourceMap: string): Promise<SourceMapGenerator>;
    /**
     * 更新tempGenerator的mappings
     * @param consumer 更新前mappings存储在该对象中
     * @param tempGenerator 待更新mappings的对象
     * @param updateInfo 传递更新过程中使用的偏移量
     */
    static updateMappings(consumer: BasicSourceMapConsumer | IndexedSourceMapConsumer, tempGenerator: SourceMapGenerator, updateInfo: IUpdateMappingsInfo): void;
    /**
     * 从babel后的代码中切割出源码和source map
     * @param appScriptTree
     * @param project
     * @returns
     */
    static splitSourceMap(appScriptTree: SourceFile): {
        newScriptTree: SourceFile;
        scriptSourceMap: string;
    };
    /**
     * 计算addStatments中字符串所占行数
     * @param str
     * @returns
     */
    static countStatementLines(originStr: string): number;
}
export default SourceMapUtil;
