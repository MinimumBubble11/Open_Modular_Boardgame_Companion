"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
/**
 * FeatureConfig
 */
/**
 * FeatureConfig
 */
class FeatureConfig {
  SYSTEM = 'system';
  SERVICE = 'service';
  ANDROID = 'android';
  HAP = 'hap';
  SYSTEM_FEATURE = ['app', 'model', 'router', 'configuration', 'alarm', 'audio', 'barcode', 'bluetooth', 'brightness', 'calendar', 'cipher', 'clipboard', 'contact', 'device', 'fetch', 'file', 'geolocation', 'image', 'keyguard', 'media', 'network', 'notification', 'package', 'prompt', 'record', 'request', 'resident', 'sensor', 'share', 'shortcut', 'sms', 'storage', 'vibrator', 'volume', 'websocketfactory', 'webview', 'battery', 'wifi', 'mediaquery', 'zip', 'telecom', 'decode', 'uploadtask', 'downloadtask', 'interconnect', 'crypto', 'exchange', 'internal.message', 'microphone', 'internal.ota', 'internal.power', 'internal.settings', 'internal.micamera', 'serviceUtil'].map(item => `${this.SYSTEM}.${item}`);
  SERVICE_FEATURE = ['account', 'alipay', 'ad', 'wxaccount', 'qqaccount', 'wbaccount', 'exchange', 'health', 'pay', 'push', 'qqaccount', 'share', 'stats', 'wbaccount', 'wxaccount', 'wxpay', 'biometriverify', 'texttoaudio', 'wechat', 'internal.audiosync', 'internal.audiofocus', 'internal.alarm', 'mihome', 'bootstrap', 'miai'].map(item => `${this.SERVICE}.${item}`);

  /**
   * 是否为系统模块
   *
   * 以特定名称开头的为系统模块
   *
   * @example isSystemModule("@system.route")
   * @param modulePath
   * @returns
   */
  isSystemModule(modulePath) {
    if (!modulePath) {
      return false;
    }
    const name = [this.SYSTEM, this.SERVICE, this.ANDROID, this.HAP];
    return name.findIndex(item => modulePath.startsWith(`@${item}`)) >= 0;
  }

  /**
   * 是否为有效的系统模块
   *
   * 有效系统模块指：显式配置的模块
   *
   * @param modulePath
   * @returns
   */
  isEffectSystemModule(modulePath) {
    if (!modulePath) {
      return false;
    }
    return this.SERVICE_FEATURE.includes(modulePath) || this.SYSTEM_FEATURE.includes(modulePath);
  }
}
var _default = exports.default = new FeatureConfig();