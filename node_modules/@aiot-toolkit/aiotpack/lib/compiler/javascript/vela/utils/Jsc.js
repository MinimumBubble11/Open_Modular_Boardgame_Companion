"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _sharedUtils = require("@aiot-toolkit/shared-utils");
/**
 * Jsc
 */
class Jsc {
  constructor(projectPath, buildPath) {
    this.projectPath = projectPath;
    this.buildPath = buildPath;
  }
  jsc() {
    const {
      projectPath,
      buildPath
    } = this;
    return _sharedUtils.CommonUtil.requireNodeModule(projectPath, `@aiot-toolkit/jsc`).then(async module => {
      const msg = await module.default(buildPath);
      if (msg) {
        _sharedUtils.ColorConsole.success({
          word: 'jsc command'
        }, msg);
      }
    }).then(() => {
      return _sharedUtils.FileUtil.del(`${buildPath}/**/*.js`);
    }).catch(error => {
      _sharedUtils.ColorConsole.throw(error.message);
      return Promise.reject(error);
    });
  }
}
var _default = exports.default = Jsc;