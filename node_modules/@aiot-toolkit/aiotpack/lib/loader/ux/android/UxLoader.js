"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _path = _interopRequireDefault(require("path"));
var _AndroidUx = _interopRequireDefault(require("../../../utils/ux/android/AndroidUx"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
/**
 * UxLoader
 */
class UxLoader {
  async parser(files) {
    const result = [];
    const {
      projectPath
    } = this.context;
    for (let item of files) {
      const {
        files,
        logs
      } = await new _AndroidUx.default().compileUx({
        context: this.context,
        file: item,
        compilerOption: this.compilerOption
      });
      this.logs = logs.map(item => ({
        ...item,
        filePath: item.filePath ? _path.default.relative(projectPath, item.filePath) : ''
      }));
      result.push(...files);
    }
    return result;
  }
}
var _default = exports.default = UxLoader;