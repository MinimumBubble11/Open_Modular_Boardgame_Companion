import PersistentCommand from '../persistentCommand/PersistentCommand';
import ParamType from './IParam';
/**
 * 命令
 *
 * @description 用于定义一条命令，其中
 * + argumentList 表示有序的必填参数
 * ```js
 * // 设置
 * name arg1 arg2
 *
 * // 获取
 * action(arg1, arg2) => { }
 * ```
 * + paramList 表示无序的参数
 *
 * paramList的参数有两种途径设置
 * 1. 输入命令时：所有参数都可通过此途径设置
 * 2. 询问式设置：enableInquirer=true，且未通过途径1设置的参数
 * ```
 * // 设置
 * name arg1 arg2 --option1 value
 *
 * // 获取
 * action(arg1, arg2, options) => {
 *     console.log(options.option1)
 * }
 * ```
 *
 * @example 对于命令`mytool exec arg1 --option1 123`，且希望option1未设置时，可通过询问的方式的设置，则配置如下
 * ```
 * {
 *    name:"exec",
 *    description:"命令描述",
 *    argumentList:[
 *      {
 *          name: "arg1",
 *          description:"",
 *      }
 *    ],
 *    paramList:[
 *      {
 *        name: "option1",
 *        type: "string",
 *        description: "",
 *        enableInquirer: true,
 *      }
 *    ],
 *    action: (arg, option) = >{}
 * }
 * ```
 */
export default interface ICommand {
    name: string;
    description: string;
    argumentList?: {
        name: string;
        description: string;
        defaultValue?: string;
    }[];
    paramList?: ParamType[];
    /**
     * 待者命令
     *
     * 一个按键对应一个功能
     *
     * 如设置此属性，当主命令执行完成后，此命令将启动
     */
    waiter?: PersistentCommand;
    /**
     * 命令完成后的处理函数
     * @param arg 参数列表，依次为argumentList[0], argumentList[1]...., param对象
     *
     * @example action(arg1, arg2, option)=>{}
     * @returns
     */
    action: (...arg: any) => void | Promise<void>;
}
